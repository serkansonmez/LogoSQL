SELECT 
OTRNS.SHIPPEDAMOUNT
--ORFIC.FICHENO, ORFIC.CUSTORDNO, ORFIC.DOCODE, ORFIC.SPECODE, ORFIC.CYPHCODE, ORFIC.STATUS, ORFIC.WITHPAYTRANS, ORFIC.TRADINGGRP, ORFIC.FACTORYNR, ORFIC.DEPARTMENT, ORFIC.BRANCH, ORFIC.LOGICALREF, ORFIC.TIME_, ORFIC.SOURCEINDEX, ORFIC.TOTALADDTAX, OTRNS.DATE_, OTRNS.PRCURR, OTRNS.DUEDATE, OTRNS.SPECODE, OTRNS.DELVRYCODE, OTRNS.LOGICALREF, OTRNS.PRICE, OTRNS.VATAMNT, OTRNS.LINETYPE, OTRNS.DORESERVE, OTRNS.CLOSED, OTRNS.SOURCEINDEX, OTRNS.ORDFICHEREF, OTRNS.STOCKREF, OTRNS.LINENO_, OTRNS.DETLINE, OTRNS.REPORTRATE, OTRNS.TOTAL, OTRNS.PRPRICE, OTRNS.AMOUNT, OTRNS.UOMREF, OTRNS.SHIPPEDAMOUNT, OTRNS.ONVEHICLE, OTRNS.DISTRESERVED, OTRNS.UINFO1, OTRNS.UINFO2, OTRNS.ADDTAXAMOUNT, CLNTC.CODE, CLNTC.DEFINITION_, CLNTC.ACTIVE, CLNTC.SPECODE, CLNTC.CYPHCODE, CLNTC.SPECODE2, CLNTC.SPECODE3, CLNTC.SPECODE4, CLNTC.SPECODE5, CLNTC.LOGICALREF, USLINE.LOGICALREF, USLINE.WIDTHREF, USLINE.LENGTHREF, USLINE.HEIGHTREF, USLINE.AREAREF, USLINE.VOLUMEREF, USLINE.WEIGHTREF, USLINE.UNITSETREF, USLINE.MAINUNIT, USLINE.CONVFACT1, USLINE.CONVFACT2, USLINE.CODE, PRODORD.ACTBEGDATE, PRODORD.PLNENDDATE, PRODORD.PLNDURATION, PRODORD.FICHENO, PRODORD.DATE_, PRODORD.PLNBEGDATE, PRODORD.ACTENDDATE, PRODORD.ACTDURATION, PRODORD.LOGICALREF, PRODORD.FICHETYPE, PRODORD.STATUS, PEGGING.AMOUNT, PEGGING.LOGICALREF, PEGGING.UOMREF, PEGGING.PEGTYPE, PEGGING.PEGREF, PEGGING.RELTYPE, PEGGING.PRODORDREF, PEGGING.ITEMREF, PEGGING.PORDLINEREF, PEGGING.VARIANTREF, PROJECT.CODE, PROJECT.NAME, PROJECT.LOGICALREF, SHPINF.CODE, SHPINF.NAME
 FROM 
LG_024_01_ORFICHE ORFIC WITH(NOLOCK) LEFT OUTER JOIN LG_024_SHIPINFO SHPINF WITH(NOLOCK) ON (ORFIC.SHIPINFOREF = SHPINF.LOGICALREF) LEFT OUTER JOIN LG_024_01_DISTORDLINE DISTORDLIN WITH(NOLOCK) ON (ORFIC.LOGICALREF = DISTORDLIN.ORDFICHEREF), LG_024_01_ORFLINE OTRNS LEFT OUTER JOIN LG_024_CLCARD CLNTC WITH(NOLOCK) ON (OTRNS.CLIENTREF = CLNTC.LOGICALREF) LEFT OUTER JOIN LG_024_UNITSETL USLINE WITH(NOLOCK) ON (OTRNS.UOMREF = USLINE.LOGICALREF) LEFT OUTER JOIN LG_024_PEGGING PEGGING WITH(NOLOCK) ON (OTRNS.LOGICALREF  =  PEGGING.PORDLINEREF) LEFT OUTER JOIN LG_024_PRODORD PRODORD WITH(NOLOCK) ON (PEGGING.PEGREF  =  PRODORD.LOGICALREF) LEFT OUTER JOIN LG_024_PROJECT PROJECT WITH(NOLOCK) ON (OTRNS.PROJECTREF  =  PROJECT.LOGICALREF)
 WHERE 
(OTRNS.ORDFICHEREF = ORFIC.LOGICALREF) AND (OTRNS.DETLINE = 0) AND (ORFIC.FACTORYNR IN (0)) AND (ORFIC.DEPARTMENT IN (0)) AND (ORFIC.BRANCH IN (0)) AND (OTRNS.SOURCEINDEX IN (0,1,3,7,8,10,11,12)) AND ((OTRNS.DATE_ >= CONVERT(dateTime, '12-1-2024', 101)) AND (OTRNS.DATE_ <= CONVERT(dateTime, '12-31-2024', 101))) AND ORFIC.TRCODE IN(1)  AND OTRNS.LINETYPE IN(0,1,4,5,6,8,9,10)
--AND ORFIC.FICHENO= '231211007'
ORDER BY 
ORFIC.DATE_, ORFIC.TIME_, OTRNS.ORDFICHEREF, OTRNS.LINENO_, ORFIC.TRCODE


SELECT * FROM LG_024_01_ORFLINE WHERE SHIPPEDAMOUNT <> RESERVEAMOUNT 

UPDATE LG_024_01_ORFLINE SET RESERVEAMOUNT=SHIPPEDAMOUNT WHERE SHIPPEDAMOUNT <> RESERVEAMOUNT 